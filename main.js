(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e){localStorage.setItem("tasks",JSON.stringify(e))}function n(e){localStorage.setItem("projects",JSON.stringify(e))}function o(){return JSON.parse(localStorage.getItem("projects"))}e.d({},{U:()=>E,v:()=>p});let c=["General"];const l=document.getElementsByTagName("body")[0],a=(document.getElementsByTagName("aside")[0],document.getElementsByTagName("main")[0],document.querySelector(".projects-container")),r=document.querySelector(".tasks-container");function d(){a.innerHTML="";for(let e of c)if("General"!=e){const o=document.createElement("div"),l=document.createElement("div"),d=document.createElement("div");o.className="project-container",l.className="projects",d.className="remove-icon",l.textContent=e,o.append(l,d),a.appendChild(o),d.addEventListener("click",(()=>{const e=l.textContent;console.log(e);const o=c.findIndex((t=>t===e));console.log(o),c.splice(o,1),console.log(c),d.parentNode.remove(),n(c),p.filter(((t,n,o)=>{console.log(`The deleted project is ${t.project}`),t.project===e&&o.splice(n,1)})),r.innerHTML="",t(p),u(p),console.log(p)}))}const e=document.querySelectorAll(".projects");console.log(e),e.forEach((e=>{e.addEventListener("click",(()=>{const t=document.querySelector(".tasks-container");console.log("you click me"),"General"===e.textContent?(t.innerHTML="",u(p),console.log(p)):(t.innerHTML="",u(p.filter((t=>t.project===e.textContent))))}))}))}console.log(c),document.querySelector("main"),document.querySelector(".container");const s=document.querySelector(".tasks-container"),i=document.getElementsByTagName("body")[0];function m(){console.log(c);const e=document.createElement("div");e.className="overlay",console.log("create form");const n=document.createElement("div");n.className="form-container";const o=document.createElement("form");o.className="task-form";const l=document.createElement("label");l.textContent="Title";const a=document.createElement("input");a.className="title-input";const r=document.createElement("label");r.textContent="Description";const d=document.createElement("input");d.className="description-input";const s=document.createElement("label");s.textContent="Date";const m=document.createElement("input");m.type="date",m.className="date-input";const g=document.createElement("label");g.textContent="Priority";const v=document.createElement("div");v.className="priority-container";const y=document.createElement("label");y.textContent="Low";const h=document.createElement("input");h.type="radio",h.id="lowRadio",y.htmlFor="lowRadio",h.name="taskPriority",h.value="low",h.checked=!0;const C=document.createElement("label");C.textContent="Medium";const x=document.createElement("input");x.type="radio",x.id="mediumRadio",C.htmlFor="mediumRadio",x.name="taskPriority",x.value="medium";const f=document.createElement("label");f.textContent="High";const k=document.createElement("input");k.type="radio",k.id="hightRadio",f.htmlFor="hightRadio",k.name="taskPriority",k.value="high";const b=document.createElement("label");b.textContent="Project";const N=document.createElement("select");N.className="project-combo-box";for(const e of c){const t=document.createElement("option");t.value=e,t.text=e,N.appendChild(t),console.log(e)}const S=document.createElement("button");S.classList="submit",S.type="submit",S.textContent="Add Todo";const j=document.createElement("button");j.textContent="Cancel",v.append(y,h,C,x,f,k),o.appendChild(l),o.appendChild(a),o.appendChild(r),o.appendChild(d),o.appendChild(s),o.appendChild(m),o.appendChild(g),o.appendChild(v),o.appendChild(b),o.appendChild(N),o.appendChild(S),o.appendChild(j),n.appendChild(o),i.appendChild(e),e.appendChild(n),S.addEventListener("click",(n=>{let c=o.querySelector("input[name=taskPriority]:checked");console.log(c.value),n.preventDefault(),console.log("add task"),p.push(E(a.value,d.value,m.value,c.value,N.value)),console.log(p),console.log(m.value),e.remove();let l=p.slice(-1);u(l),console.log(l.title),t(p)})),j.addEventListener("click",(()=>{console.log("cancelllll"),e.remove()}))}function u(e){for(let n=0;n<e.length;n++){const o=document.createElement("div");o.className="task-container";const c=document.createElement("div");c.className="only-tasks";const l=document.createElement("div");l.className="title";const a=document.createElement("div");a.className="description";const r=document.createElement("div");r.className="date";const d=document.createElement("div");d.className="priority";const i=document.createElement("div");i.className="check-icon",i.style.backgroundImage="url('./pictures/cyrcle.svg')";const u=document.createElement("div");u.className="buttons-container";const g=document.createElement("div");g.className="edit-icon",g.style.backgroundImage="url('./pictures/edit.svg')",g.dataset.index=e[n].description;const v=document.createElement("div");v.className="remove-icon",v.style.backgroundImage="url('pictures/thrash.svg')",v.dataset.index=e[n].description,"low"===e[n].priority?o.style.border="1px solid green":"medium"===e[n].priority?o.style.border="1px solid #ffe79a":o.style.border="1px solid red",i.addEventListener("click",(()=>{"line-through"===o.style.textDecoration?(o.style.textDecoration="none",console.log("text decorrrrrrrrrr"),i.style.backgroundImage="url('./pictures/cyrcle.svg')"):(o.style.textDecoration="line-through",console.log("lineeeeeeeeeeeeeee"),console.log(o.style.textDecoration),i.style.backgroundImage="url('./pictures/blackCyrcle.svg')")})),v.addEventListener("click",(()=>{let e=p.findIndex((e=>e.description===v.dataset.index));console.log(e),p.splice(e,1),console.log(p),v.parentNode.remove(),t(p)})),g.addEventListener("click",(()=>{let e=p.findIndex((e=>e.description===g.dataset.index));console.log(e),m();const n=document.querySelector(".title-input"),o=document.querySelector(".description-input"),c=document.querySelector(".date-input"),l=document.querySelector(".project-combo-box"),a=document.querySelector(".submit"),r=document.querySelector(".task-form"),d=document.createElement("button");d.className="update-btn",d.textContent="Update task",n.value=p[e].title,o.value=p[e].description,c.value=p[e].dueDate,l.value=p[e].project,a.remove(),r.appendChild(d),d.addEventListener("click",(()=>{p[e].title=n.value,p[e].description=o.value,p[e].dueDate=c.value,p[e].project=l.value,g.parentNode.remove(),t(p)}))})),l.textContent=e[n].title,a.textContent=e[n].description,r.textContent=e[n].dueDate,d.textContent=e[n].priority,console.log(e[n].priority),c.append(l,a,r),u.append(g,v),o.append(i,c,u),s.appendChild(o)}}let p=[];if(console.log(c),localStorage.length){p=[...JSON.parse(localStorage.getItem("tasks"))],c=[...o()],u(p),d();let e=o();console.log(e)}else d(),t(p),n(c);console.log(p);let g=document.querySelector(".add-task");document.querySelector(".add-project"),document.querySelector(".container");const v=document.querySelector(".add-project"),y=document.querySelectorAll(".filter-tasks");function E(e,t,n,o,c){return{title:e,description:t,dueDate:n,priority:o,project:c}}g.addEventListener("click",(()=>{console.log(p),m()})),v.addEventListener("click",(()=>{!function(){const e=document.createElement("div");e.className="overlay";const t=document.createElement("div");t.className="projects";const o=document.createElement("div");o.className="form-project-container";const a=document.createElement("form"),r=document.createElement("h3");r.textContent="Add Project";const s=document.createElement("label");s.textContent="Title:";const i=document.createElement("input");i.type="text";const m=document.createElement("button");m.textContent="Add project",m.className="project-button",a.append(r,s,i,m),o.appendChild(a),e.appendChild(o),l.appendChild(e),document.querySelector(".project-button").addEventListener("click",(o=>{o.preventDefault();let l=i.value;console.log(l),t.textContent=l,c.push(l),console.log(c),n(c),e.remove(),d()}))}(),console.log("new Project")})),y.forEach((e=>{e.addEventListener("click",(()=>{!function(e){r.innerHTML="";const t=(new Date).toISOString().slice(0,10);u("Today"===e?p.filter((e=>e.dueDate===t)):"Upcoming"===e?p.filter((e=>e.dueDate!==t)):p)}(e.textContent)}))}))})();