(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e){localStorage.setItem("tasks",JSON.stringify(e))}function n(e){localStorage.setItem("projects",JSON.stringify(e))}function o(){return JSON.parse(localStorage.getItem("projects"))}e.d({},{U:()=>g,v:()=>u});let c=["General"];const l=document.getElementsByTagName("body")[0],a=document.getElementsByTagName("aside")[0];function d(){for(let e of c){const t=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div");t.className="project-container",n.className="projects",o.className="remove-icon",n.textContent=e,t.append(n,o),a.appendChild(t)}const e=document.querySelectorAll(".projects");console.log(e),e.forEach((e=>{e.addEventListener("click",(()=>{const t=document.querySelector(".tasks-container");console.log("you click me"),"General"===e.textContent?(t.innerHTML="",m(u),console.log(u)):(t.innerHTML="",m(u.filter((t=>t.project===e.textContent))))}))}))}document.getElementsByTagName("main")[0],console.log(c),document.querySelector("main"),document.querySelector(".container");const r=document.querySelector(".tasks-container"),i=document.getElementsByTagName("body")[0];function s(){console.log(c);const e=document.createElement("div");e.className="overlay",console.log("create form");const n=document.createElement("div");n.className="form-container";const o=document.createElement("form");o.className="task-form";const l=document.createElement("label");l.textContent="Title";const a=document.createElement("input");a.className="title-input";const d=document.createElement("label");d.textContent="Description";const r=document.createElement("input");r.className="description-input";const s=document.createElement("label");s.textContent="Date";const p=document.createElement("input");p.type="date",p.className="date-input";const v=document.createElement("label");v.textContent="Priority";const E=document.createElement("div");E.className="priority-container";const y=document.createElement("label");y.textContent="Low";const C=document.createElement("input");C.type="radio",C.id="lowRadio",y.htmlFor="lowRadio",C.name="taskPriority",C.value="low",C.checked=!0;const h=document.createElement("label");h.textContent="Medium";const N=document.createElement("input");N.type="radio",N.id="mediumRadio",h.htmlFor="mediumRadio",N.name="taskPriority",N.value="medium";const x=document.createElement("label");x.textContent="Hight";const b=document.createElement("input");b.type="radio",b.id="hightRadio",x.htmlFor="hightRadio",b.name="taskPriority",b.value="hight";const f=document.createElement("label");f.textContent="Project";const k=document.createElement("select");k.className="project-combo-box";for(const e of c){const t=document.createElement("option");t.value=e,t.text=e,k.appendChild(t),console.log(e)}const S=document.createElement("button");S.classList="submit",S.type="submit",S.textContent="Add Todo";const j=document.createElement("button");j.textContent="Cancel",E.append(y,C,h,N,x,b),o.appendChild(l),o.appendChild(a),o.appendChild(d),o.appendChild(r),o.appendChild(s),o.appendChild(p),o.appendChild(v),o.appendChild(E),o.appendChild(f),o.appendChild(k),o.appendChild(S),o.appendChild(j),n.appendChild(o),i.appendChild(e),e.appendChild(n),S.addEventListener("click",(n=>{let c=o.querySelector("input[name=taskPriority]:checked");console.log(c.value),n.preventDefault(),console.log("add task"),u.push(g(a.value,r.value,p.value,c.value,k.value)),console.log(u),console.log(p.value),e.remove();let l=u.slice(-1);m(l),console.log(l.title),t(u)})),j.addEventListener("click",(()=>{console.log("cancelllll"),e.remove()}))}function m(e){for(let n=0;n<e.length;n++){const o=document.createElement("div");o.className="task-container";const c=document.createElement("div");c.className="title";const l=document.createElement("div");l.className="description";const a=document.createElement("div");a.className="date";const d=document.createElement("div");d.className="priority";const i=document.createElement("div");i.className="check-icon",i.style.backgroundImage="url('./pictures/cyrcle.svg')";const p=document.createElement("div");p.className="edit-icon",p.style.backgroundImage="url('./pictures/edit.svg')",p.dataset.index=e[n].description;const v=document.createElement("div");v.className="remove-icon",v.style.backgroundImage="url('pictures/thrash.svg')",v.dataset.index=e[n].description,v.addEventListener("click",(()=>{let e=u.findIndex((e=>e.description===v.dataset.index));console.log(e),u.splice(e,1),console.log(u),v.parentNode.remove(),t(u),r.innerHTML="",m(u)})),p.addEventListener("click",(()=>{let e=u.findIndex((e=>e.description===p.dataset.index));console.log(e),s();const n=document.querySelector(".title-input"),o=document.querySelector(".description-input"),c=document.querySelector(".date-input"),l=document.querySelector(".project-combo-box"),a=document.querySelector(".submit"),d=document.querySelector(".task-form"),r=document.createElement("button");r.className="update-btn",r.textContent="Update task",n.value=u[e].title,o.value=u[e].description,c.value=u[e].dueDate,l.value=u[e].project,a.remove(),d.appendChild(r),r.addEventListener("click",(()=>{u[e].title=n.value,u[e].description=o.value,u[e].dueDate=c.value,u[e].project=l.value,p.parentNode.remove(),t(u)}))})),c.textContent=e[n].title,l.textContent=e[n].description,a.textContent=e[n].dueDate,d.textContent=e[n].priority,console.log(e[n].priority),o.append(i,c,l,a,d,p,v),r.appendChild(o)}}let u=[];if(console.log(c),localStorage.length){u=[...JSON.parse(localStorage.getItem("tasks"))],c=[...o()],m(u),d();let e=o();console.log(e)}else d(),t(u),n(c);console.log(u);let p=document.querySelector(".add-task");document.querySelector(".add-project"),document.querySelector(".container");const v=document.querySelector(".add-project");function g(e,t,n,o,c){return{title:e,description:t,dueDate:n,priority:o,project:c}}p.addEventListener("click",(()=>{console.log(u),s()})),v.addEventListener("click",(()=>{!function(){const e=document.createElement("div");e.className="overlay";const t=document.createElement("div");t.className="projects";const o=document.createElement("div");o.className="form-project-container";const d=document.createElement("form"),r=document.createElement("h3");r.textContent="Add Project";const i=document.createElement("label");i.textContent="Title:";const s=document.createElement("input");s.type="text";const m=document.createElement("button");m.textContent="Add project",m.className="project-button",d.append(r,i,s,m),o.appendChild(d),e.appendChild(o),l.appendChild(e),document.querySelector(".project-button").addEventListener("click",(o=>{o.preventDefault();let l=s.value;console.log(l),t.textContent=l,a.appendChild(t),c.push(l),console.log(c),n(c),e.remove()}))}(),console.log("new Project")}))})();